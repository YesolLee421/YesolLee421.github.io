---
title: "WILT-191213"
categories:
  - What I Learned Today
comments : true
tags:
  - node.js
  - git
  - REST
  - JSON
  - multer
---


### 오늘 한 일
----

1. 협업 프로젝트
    - mypage api 수정: 사진을 안 올리고, 이름이랑 소개글만 변경했을 때 *'req.filname을 찾을 수 없다'* 는 에러 발생
        - 마이페이지 전체 수정 & 사진 수정 api 부분에서 파일 변수 없으면 공백 "" 저장하도록 수정 (즉 DB에서 삭제됨)
        - 2차 수정 (현재) : **파일 변수 없으면 기존 파일 그대로 사용**하는 것으로 간주하고 파일 삭제 라우터를 따로 추가함.<br>
    - 백엔드 회의
        1. S3 용량 문제: 무료 제공 5GB넘어가면 100GB 기준 월 2.5$(약 3천원?) 요금 나올 수도 있음 
        2. 파일 업로드 시 이미지 리사이징 필요: 클라에서 리사이징 해서 보내기 / 서버에서 리사이징해서 저장
        3. 이미지 리사이징 검색해보니 aws 람다를 이용한 방법이 있었음. 근데 이 방법은 처음에 S3에 원본 업로드 후 람다에서 리사이징->클라이언트로 전송해줌. 따라서 리사이징 후 다시 S3 에 저장하고 원본을 지우는 등 추가 작업이 필요할지? (대부분의 예제는 S3용량을 신경쓰지 않는 것 같은데 어쨌든 쓰는 만큼 요금이 부과되니 고민해야 할 듯)
