---
title: "WILT-191129"
categories:
  - What I Learned Today
comments : true
tags:
  - BlockChain
  - 블록체인
  - android
  - kotlin
  - node.js
  - git
---


### 오늘 한 일
----

1. 블록체인 강의 듣고 정리
  - 14-2 내용 듣고 정리
  - K-MOOC [알기쉬운블록체인] 참고
  - 내일 오프라인 특강이 있어서 나들이 겸 가 보려고 한다.<br>

2. 개인 프로젝트
  - __android__: 게시물에 사진 업로드, 마이페이지에서 프로필 사진 업로드(상담사), 상담사 목록 및 프로필에서 사진 확인 해야 함.
    1. ~~`manifest`에서 `user-permission` 받기~~
    2. ~~앱 시작 시 `permission`받는 부분 추가~~
    3. ~~Expert 모델 속성 바꾸기~~
    4. 게시물 생성 시 사진 추가 버튼->카메라 및 앨범 인텐트 [o]]
        - 사진 선택 전 카메라, 외부저장소 permission 확인
        - 다이얼로그->카메라, 앨범 선택
    5. 서버로 전송 전 이미지 미리보기 기능 [o]
        - `onActivityResult()`에서 사진 `uri`받아서 `imageView`에 미리 보여줌
        - 이제 이걸 서버로 전송할 때 어떻게 할지? 그리고 서버에서 어떻게 저장해서 어떻게 보낼지 찾아봐야 함.
    6. retrofit2 `@multipart` 사용해서 서버로 파일 전송
    7. node.js api 변경<br>

3. 협업 프로젝트
    - 피드백 '주제' 생성 시 어떻게 데이터 저장할까? 별도 `주제` 테이블 생성 vs 유저 테이블에 '주제' 컬럼 생성 후 주제 객체 `JsonArray`로 넣기
    - 결론) _Json으로 넣기로 했다._ 개인당 주제 개수가 제한되어 있기도 하고, 피드백 가져올 때 어차피 유저 테이블 접근해야 하는데 그때 주제 배열 인덱스만 알고 있으면 제목이나 색상 바로 가져올 수 있을 듯.
    - `JsonArray` 파싱을 다시 찾아봤다. 파싱을 두번 해야하나 약간 헷갈렸는데 배열이니 인덱스로 접근할 수 있을 것이라는 기본적인 것을 까먹고 있었다..ㅎ<br>

4. __웹 프론트엔드에서 cookie 볼 수 없는 문제__
    - 아마 프론트 서버와 백엔드 서버 도메인이 달라서 생기는 `cross-origin HTTP request` 관련 문제인 것 같았다.
    - 오랜 시간 동안 왜 그런지 열심히 찾았는데 이상하게 'localhost'의 쿠키는 없고 AWS 서버의 쿠키만 있다.
    - 근데 AWS서버 주소로 된 쿠키가 있으면 유저 정보 확인이 가능하다. 즉 원래 쿠키에 세션로그인 정보 담아서 유저 정보 확인에 쓸텐데, 크롬 개발자도구로 쿠키가 안 보이는데 그 기능이 된다.
    - 글을 쓰다 보니 역시 localhost 웹사이트는 쿠키가 저장되지 않은 것이 맞는 것 같아서 다시 원점으로 돌아왔다ㅠㅠ
    - 덕분에 처음으로 github에 `issue`를 발행해봤다...<br>https://github.com/avon-dev/server-test/issues/1#issue-530439768








