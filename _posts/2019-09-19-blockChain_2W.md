---
title: "[블록체인] 2주차_4차 산업혁명과 블록체인"
categories:
  - BlockChain
  - 블록체인
---
*이 내용은 K-MOOC [알기쉬운알고리즘] 강의를 듣고 정리한 내용입니다.*
<br>

# 암호화폐 비트코인의 핵심기술, 블록체인
## 암호화폐 비트코인의 핵심기술, 블록체인(1)

### 1. 비트코인 소프트웨어 모듈 구성
![비트코인 프로그램 모듈 구성](..\assets\블록체인프로그램모듈.PNG)<br>

- 지갑 (Wallet): 실제 암호화폐 사용과 관련된 기능
- 풀 블록체인(Full Blockchain): 모든 거래 기록, 즉 블록체인을 저장하는 기능
- Miner: 채굴 기능
- Network Routing Node: 통신을 위한 소프트웨어 모듈

### 2. 비트코인의 사용 = 인터넷뱅킹 계좌이체
![비트코인 프로그램 모듈 구성](..\assets\비트코인사용.PNG)<br>

1. 비트코인 계좌 개설
    - 이미지 (2)의 숫자, 문자 배열 = 비트코인 계좌번호
    - 인터넷 뱅킹과 다르게 실명확인 안 함: 익명성 보장
2. 상점에서 비트코인 사용
    - 상점에도 비트코인 계좌번호 있음
    - 보통 QR코드 형태로 있음
    - QR 코드 스캔해서 해당 계좌로 암호화폐 송금
3. 공인인증서?
    - 비트코인 내에도 공인인증서 사용해서 전자서명하는 것과 비슷한 과정 있음
    - 그러나 편하게 되어 있어 사용자는 느끼지 못함<br>

### 3. 블록체인 기술 - '블록'
- 블록: 모든 사용자들이 10분 단위로 인터넷에서 일어난 모든 거래를 기록한 장부의 한 페이지
- 10분 동안 여러 계좌이체가 동시 다발적으로 발생함
- 비트코인은 실명 확인을 거치지 않아서 계좌번호만 나타날 뿐, 계좌의 소유주는 나타나지 않음
- 10분 마다 서로 거래 기록을 확인해 만장일치가 아니면 투표에 부친다.
- 과반수 이상의 표를 얻은 블록이 선정되어 이전 블록에다 연결된다.
- 블록을 앞에 있는 체인에 연결할 때 <em>해시함수</em>라는 특수한 기술 사용
- 한 번 연결된 블록은 삭제하거나 수정하는 것이 불가능하다.<br>

### 4. 블록체인은 해킹이 불가능한 기술이다?
- 엄밀히 말해서 블록체인 = '해킹이 불가능한 기술'이라고 할 순 없다.
- 블록체인의 특징 4가지 다시 정리
    - 탈 중앙화: 투표 기능이 내장되어 있음
    - 불변성: 블록체인에 기록된 데이터는 삭제나 수정이 불가능하다.
    - 투명성: 블록체인에 기록된 데이터는 누구나 볼 수 있다.
    - 가용성: 모든 사람의 PC에 저장되기 때문에 24시간, 365일 중단하지 않는 무중단 시스템<br>


# 암호화폐 비트코인의 핵심기술, 블록체인
## 블록체인의 투표 메커니즘(1): Safety 방식
### 블록체인 기술 - 합의(1): Safety 방식 개요
![비트코인 프로그램 모듈 구성](..\assets\블록체인_safety.PNG)<br>
- A, B, C, D, E 5명의 사용자가 있다고 가정할 때
- 10분이 지나면 한 명씩 차례대로 블록을 제시한다.
- 만장일치가 나오면 해당 블록을 각자 PC에 저장한다.
- 이렇게 최초로 옳다고 인정받은 블록(블록체인의 첫 번째 블록)을 <em>제네시스 블록</em>이라고 한다.<br>
- 만약 불일치 할 경우 불일치하는 블록을 가진 B가 자신의 블록도 제시한다.
- 모든 사용자가 A, B 블록 중 옳다고 생각하는 것에 투표한다.
- 과반수 이상의 지지를 얻은 블록이 선정되어 블록체인에 연결된다.<br>


# 암호화폐 비트코인의 핵심기술, 블록체인
## 블록체인의 투표 메커니즘(2): Liveness 방식
### 블록체인 기술 - 합의(1): Liveness 방식 개요
- A, B, C, D, E 5명의 사용자가 있다고 가정할 때
- 10분이 지나면 한 명씩 차례대로 블록을 제시한다.
- 만장일치가 나오면 해당 블록을 각자 PC에 저장한다.<br>

- 이미 A-B 블록이 연결되어 있다고 가정할 때
- C가 새로운 블록을 제시했는데, D가 이의제기를 하고 자신의 블록도 모든 사용자에게 제시한다.
- Safety방식: 모든 사용자가 C, D 블록 중 옳다고 생각하는 것에 투표한다.
- Liveness 방식: 일단 투표를 하지 않고 C, D 블록 모두 B에 연결한다.
- 이렇게 연결되면 A, B, C, D 블록은 삭제 및 수정이 불가능하다..<br>

- 다시 10분 뒤, E가 블록 제시할 차례 돌아왔을 때, E는 C, D 중 자신이 옳다고 생각하는 블록 뒤에 자신의 블록을 연결한다.
- 만약 'D가 옳다'라고 생각하면 자신의 블록을 D에 연결하여 한 표를 행사한다.
- 이런 식으로 계속 10분이 지나면 대다수가 옳다고 생각해 줄을 선 블록도 있고, 줄을 서지 않은 블록도 생긴다.
- <strong>롱기스트 체인 룰</strong>: 줄이 가장 긴 블록체인의 시작 블록을 올은 블록이라고 인정하는 규칙<br>

### 블록체인 기술 - 합의(1): Liveness 방식의 문제점
- 롱기스트 체인 룰: 어느 줄이 가장 긴 지는 항상 바뀔 수 있음
- 따라서 별도의 약속 필요
- '줄 길이 차이가 6개 블록 이상 나면 그 블록체인은 안정화된 것으로 인정하자'<br>
![비트코인 프로그램 모듈 구성](..\assets\블록체인_liveness_안정화.PNG)<br>
- A, B, D 세 블록은 분기점의 다른 블록과 비교해 6개 이상의 차이가 나서 안정화된 블록이다.
- 안정화되지 않은 블록들은 판정이 번복될 가능성을 가지고 있다.<br>


# 암호화폐 비트코인의 핵심기술, 블록체인
## 블록체인 합의 방식 비교
### 1. Safety VS Liveness 비교
![비트코인 프로그램 모듈 구성](..\assets\블록체인합의방식비교.PNG)<br>

| Safety (Consensus Finality) | Liveness(Termination) |
|---|:---:|
| **선투표 후기록** | **선기록 후투표** | 
| 무한대기 가능성 | 판정 번복의 가능성 | 
| `Tendermint`,`PBFT-style BlockChain` | `Bitcoin` |  
<br>


### 2. 무한대기 가능성과 판정 번복 가능성을 둘 다 없앨 순 없을까?
- 1985 FLP 불가능성 이론 (Impossibility Result)
    - 인터넷 상에서 판정이 번복되지 않으면서 무한대기 상태에 빠지지 않는 두 가지 특성을 모두 가지는 투표 시스템을 만드는 것이 불가능함을 이론적으로 밝혀냄
- 따라서 블록체인을 만들 때 **무한대기 가능성**과 **판정 번복 가능성** 둘 중 하나를 선택해야 함
- 모든 암호화폐는 둘 중 하나의 방식을 채택하며, 둘 다 기본 전제 조건이 있다.<br>

### 3. 블록체인 합의 방식에 따른 전제조건
1. Liveness 방식: 비트코인 등
    - 6개 블록 이상 차이나면 판정은 번복되지 않는다.
2. Safety 방식: 텐더민트 등
    - 일정 시간을 기다리고 이 시간 안에 접수되지 않은 투표권은 기권으로 가정한다.<br>

### 4. 사토시 나카모토의 정체
- 가설1: 세계 경제를 장악하려는 거대 글로벌 기업의 연합체다?
- 가설2: 영국 사람이다?
    - 비트코인에서 사토시 나카모토가 최초로 생성한 장부(제네시스 블록)에 영국 신문 헤드라인이 적혀 있어서<br>






[알기쉬운알고리즘]: http://www.kmooc.kr/courses/course-v1:SJCU+SJCU01+2019_2/courseware/145ba5714d1246c1b65fe1b081d52db0/e1af1659e74343579fe5727acdfcfbc7/?child=last